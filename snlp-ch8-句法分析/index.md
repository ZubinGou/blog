# 《统计自然语言处理》第8.1章 - 句法分析


# ch8 句法分析
- 基本任务：确定句子的句法结构（syntactic structure）或句子中词汇之间的依存关系
- 分类：
	- 句法结构分析（syntactic structure parsing）/成分结构分析（constituent struture parsing）/短语结构分析（phrase structure parsing）
	- 依存关系分析（dependency parsing）/依存句法分析/依存结构分析/依存分析
- 句法结构分析
	- 完全句法分析（full syntactic parsing）/完全短语结构分析（full phrase structure parsing）：以获取整个句子句法结构为目的
	- 局部分析（partial parsing）/浅层分析（shallow parsing）：以获取局部成为（如基本名词短语（base NP））为目的

## 8.1 句法结构分析概述
### 8.1.1 基本概念
- 句法结构分析：对输入的单词序列（一般为句子）判断其构成是否合乎给定的语法，分析出合乎语法的句子的句法结构。
- 句法结构表示：句法分析数（syntactic parsing tree），简称分析树（parsing tree）
- 句法结构分析器（syntactic parser）简称分析器（parser）：完成句法结构分析的程序模块
- 任务：
	1. 判断输入的字符串是否属于某种语言（通常系统默认知道，一般不考虑）
	2. 消除输入句子中词法和结构等方面的歧义
	3. 分析输入句子的内部结构，如成分构成、上下文关系等
- eg. 句子“The can can hold the water”分析树：
	![e2d687081a4967f365cd4d658543fb34.png](/blog/_resources/4508ca9a611a4cc7951fe4847cfeed0a.png)
- 主要困难：句法结构歧义的识别与消解
- 构造句法分析器：
	1. 语法的形式化表示和词条信息描述
	2. 分析算法设计

### 8.1.2 语法形式化
- 语法形式化（grammar formalism）属于句法理论研究的范畴，目前NLP中广泛使用：
	- 上下文无关文法（CFG）
	- 基于约束的文法（constraint-based grammar）的简单形式，又称合一语法（unification grammar），具有优越性，广泛采用
- 常用基于约束的语法：
	1. 功能合一语法（functional unification grammar，FUG）［Kay，1984］
	2. 树链接语法（tree-adjoining grammar，TAG）［Joshi et al.，1975］
	3. 词汇功能语法（lexical-functional grammar，LFG）［Bresnan，1982］
	4. 广义的短语结构语法（generalized phrase structure grammar，GPSG）［Gazdar et al.，1985］
	5. 中心语驱动的短语结构语法（head-driven phrase structure grammar，HPSG）［Pollard and Sag，1994］


### 8.1.3 基本方法
- 分类：
	- 基于规则：由人工组织语法规则，建立语法知识库，通过条件约束和检查来实现句法结构歧义的消除。
	- 基于统计

#### 基于规则的句法分析
- 句法分析算法：CYK分析算法、欧雷分析算法、线图分析算法、移进-规约算法、GLR分析算法、左角分析算法等
- 分析方法根据句法分析树形成方向
	- 自顶向下
	- 自底向上
	- 两者结合
- 主要优点：
	1. 分析算法可以利用手工编写的语法规则分析出输入句子所有可能的句法结构
	2. 对于特定的领域和目的，利用手工编写的有针对性的规则能够较好地处理输入句子中的部分歧义和一些超语法（extra-grammatical）现象
- 缺陷：
	1. 对于中长句子，分析复杂程序难以实现
	2. 即使能分析出所有可能结构，也难以在巨大候选中有效消歧
	3. 手工编写的主观性，难以覆盖大领域所有复杂语言
	4. 手工编写工作量大，且不利于移植到其他领域
- [Samuelsson and Wiren, 2000]规则方法成功运用于程序设计语言编译器，却难以处理自然语言句法分析
	1. 形式化文法的生成能力问题。程序设计语言是严格的CFG的子类，自然语言文法表达能力更强
	2. 自然语言句子存在更多、更复杂的结构歧义
		- 随着英语句子中介词短语组合个数的增加，介词引起的歧义结构的复杂程度不断加深，这个组合个数即为开塔兰数（Catalan numbers）
		- eg. The rat the cat the dog chased caught died
	3. 另外，自然语言处理中的句法分析器的先验知识的覆盖程度永远是有限的，句法分析器总是可能遇到未曾学习过的新的语言现象

#### 基于统计的句法分析
- 目前研究较多的统计句法分析方法是语法驱动的（grammar-driven），其基本思想是由生成语法（generative grammar）定义被分析的语言及其分析出的类别，在训练数据中观察到的各种语言现象的分布以统计数据的方式与语法规则一起编码。在句法分析的过程中，当遇到歧义情况时，统计数据用于对多种分析结果的排序或选择。
- 基于概率上下文无关文法（probabilistic （或stochastic）context-free grammar, PCFG或SCFG）的短语结构分析方法可以说是目前最成功的语法驱动的统计句法分析方法。
- ![072d375fe325543330b0346b8a1c8859.png](/blog/_resources/4d7aaa2950a641de8a07ab7f1c4387b7.png)


## 8.9 依存句法理论简介
- 依存句法（dependence grammar）：又称从属关系语言（grammaire de dépendance），用词与词之间的依存关系来描述语言结构的框架
- 依存语法认为“谓语”中的动词是一个句子的中心，其他成分与动词直接或间接地产生联系
- 周国光将依存语法定义为一种结构语法：主要研究以谓词为中心而构句时由深层语义结构映现为表层句法结构的状况及条件，谓词与体词之间的同现关系，并据此划分谓词的词类
- 价：一个动词所能支配的行动元（名词词组）的个数即为该动词的价数
- 依存：就是指词与词之间支配与被支配的关系，这种关系不是对等的
	- 支配者（governor，regent，head）：处于支配地位的成分
	- 从属者（modifier，subordinate，dependency）：处于被支配地位的成分
- 三种基本等价的依存结构表达方式（投射树对句子的结构表达能力更强一些）：
![a97dfa9b1f44f8ab208a13bb640e29d1.png](/blog/_resources/a2487ba2dc3847ea877d4354b2e29899.png)
- ［Robinson，1970］依存结构四条公理：
	1. 一个句子只有一个独立的成分
	2. 句子的其他成分都从属于某一成分
	3. 任何一个成分都不能依存于两个或两个以上的成分
	4. 如果成分A直接从属于成分B，而成分C在句子中位于A和B之间，那么，成分C或者从属于A，或者从属于B，或者从属于A和B之间的某一成分
	- 这四条公理相当于对依存图和依存树的形式约束：单一父结点（single headed）、连通（connective）、无环（acyclic）和可投射（projective），并由此来保证句子的依存分析结果是一棵有“根”（root）的树结构。这为依存语法的形式化描述及在计算机语言学中的应用奠定了基础。
- ［冯志伟，1998］依存结构树满足5个条件（直观、实用）：
	1. 单纯结点条件：只有终结点，没有非终结点；
	2. 单一父结点条件：除根结点没有父结点外所有的结点都只有一个父结点；
	3. 独根结点条件：一个依存树只能有一个根结点，它支配其他结点；
	4. 非交条件：依存树的树枝不能彼此相交；
	5. 互斥条件：从上到下的支配关系和从左到右的前于关系之间是互相排斥的，如果两个结点之间存在着支配关系，它们之间就不能存在前于关系。
- 依存语法与短语结构语法（phrase structure grammar，PSG）相比最大的优势是它直接按照词语之间的依存关系工作，依存语法几乎不使用词性和短语类等句法语义范畴，没有Chomsky的形式化重写规则，几乎所有的语言知识都体现在词典中，是基于词语法理论的。
